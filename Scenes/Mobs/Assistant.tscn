[gd_scene load_steps=35 format=3 uid="uid://vjubfbb1hjee"]

[ext_resource type="PackedScene" uid="uid://c0eulucj1dtco" path="res://Scenes/Mobs/Base/BaseEnemy.tscn" id="1_bk7ip"]
[ext_resource type="Script" uid="uid://bt3tj361yyosk" path="res://Scripts/Mobs/AssistantSystem.gd" id="2_fyx81"]
[ext_resource type="Script" uid="uid://c6dwbfbr85v85" path="res://Scripts/Weapons/MeleeWeaponSystem.gd" id="3_6s5yd"]
[ext_resource type="Script" uid="uid://cwhipi7j1doff" path="res://Scripts/RandomTextureSystem.gd" id="3_nv2ml"]
[ext_resource type="PackedScene" uid="uid://cf6tlkwsb1qq2" path="res://Scenes/Effects/Hit/Toolbox.tscn" id="4_nv2ml"]
[ext_resource type="Texture2D" uid="uid://bycgr8sglyoi3" path="res://Textures/Mobs/Mobs/passanger.png" id="4_r4whd"]
[ext_resource type="Texture2D" uid="uid://1yvrhqvfqqus" path="res://Textures/Weapons/Toolbox/toolbox_inhand.png" id="5_1g5ge"]
[ext_resource type="Texture2D" uid="uid://cylw1t8k1agdu" path="res://Textures/Mobs/Mobs/cargo.png" id="5_ngqn2"]
[ext_resource type="Texture2D" uid="uid://52mbog6ej55u" path="res://Textures/Mobs/Mobs/botanist.png" id="6_is5ub"]
[ext_resource type="AudioStream" uid="uid://blc0o0577akc7" path="res://Audio/Weapon/Hit/smash.ogg" id="6_tcg1r"]
[ext_resource type="AudioStream" uid="uid://eogckfs15aph" path="res://Audio/Weapon/miss.ogg" id="7_r4whd"]
[ext_resource type="AudioStream" uid="uid://djwhsufysh1dq" path="res://Resources/Audio/PunchRandom.tres" id="9_kqv0r"]
[ext_resource type="Texture2D" uid="uid://fx8bg7p2wfff" path="res://Textures/Mobs/Mobs/Hair/80s.png" id="12_kqv0r"]
[ext_resource type="Texture2D" uid="uid://boij24x83l0lv" path="res://Textures/Mobs/Mobs/Hair/afro2.png" id="13_pjvyl"]
[ext_resource type="Texture2D" uid="uid://exreeul6rla6" path="res://Textures/Mobs/Mobs/Hair/bald.png" id="14_mmn5l"]
[ext_resource type="Texture2D" uid="uid://c2j84lfhydlo7" path="res://Textures/Mobs/Mobs/Hair/bedheadv2.png" id="15_8jwui"]
[ext_resource type="Texture2D" uid="uid://b1r30o42v7kyr" path="res://Textures/Mobs/Mobs/Hair/bobcurl.png" id="16_fg1co"]
[ext_resource type="Texture2D" uid="uid://ci84jx3iuyn21" path="res://Textures/Mobs/Mobs/Hair/bobcut.png" id="17_23y4n"]
[ext_resource type="Texture2D" uid="uid://b46je4cwbysn6" path="res://Textures/Mobs/Mobs/Hair/bun3.png" id="18_rul7x"]
[ext_resource type="Texture2D" uid="uid://cvtrwkf34me6c" path="res://Textures/Mobs/Mobs/Hair/classicmulder.png" id="19_e2p0g"]
[ext_resource type="Texture2D" uid="uid://b44oghif1lc4g" path="res://Textures/Mobs/Mobs/Hair/curls.png" id="20_b1mhb"]
[ext_resource type="Texture2D" uid="uid://yqtajeusof8p" path="res://Textures/Mobs/Mobs/Hair/flair.png" id="21_ujrqn"]
[ext_resource type="Texture2D" uid="uid://drxdjuw45awor" path="res://Textures/Mobs/Mobs/Hair/gentle.png" id="22_1f0wn"]
[ext_resource type="Texture2D" uid="uid://dab0prsqfymf6" path="res://Textures/Mobs/Mobs/Hair/halfbang.png" id="23_82k8n"]
[ext_resource type="Texture2D" uid="uid://dlu5n8uy6npxo" path="res://Textures/Mobs/Mobs/Hair/joestar.png" id="24_0i4d7"]
[ext_resource type="Texture2D" uid="uid://t8go84dailgi" path="res://Textures/Mobs/Mobs/Hair/shorthairg.png" id="25_1l0qo"]
[ext_resource type="Texture2D" uid="uid://k32gxv505ucy" path="res://Textures/Mobs/Mobs/Hair/sidecut.png" id="26_lvqdh"]
[ext_resource type="Texture2D" uid="uid://lcbe8war4xp7" path="res://Textures/Mobs/Mobs/Hair/spiky.png" id="27_qp87a"]
[ext_resource type="Texture2D" uid="uid://dpr87culdu5mg" path="res://Textures/Mobs/Mobs/Hair/swept2.png" id="28_do7sw"]
[ext_resource type="Texture2D" uid="uid://4rew8bctbhwt" path="res://Textures/Mobs/Mobs/Hair/undercutleft.png" id="29_j6xct"]
[ext_resource type="Shape2D" uid="uid://bniep6322iouj" path="res://Resources/Colliders/HumanCollider.tres" id="30_pjvyl"]
[ext_resource type="Texture2D" uid="uid://cryexxr4x761f" path="res://Textures/Mobs/Mobs/Hair/undercutright.png" id="30_qavuh"]
[ext_resource type="PackedScene" uid="uid://cmjp8nchl1qit" path="res://Scenes/Effects/Hit/Crowbar.tscn" id="33_fg1co"]
[ext_resource type="Texture2D" uid="uid://b7qm5y0prnn7g" path="res://Textures/Weapons/Crowbar/inhand-right.png" id="34_23y4n"]

[node name="Assistant" instance=ExtResource("1_bk7ip")]
visibility_layer = 3
script = ExtResource("2_fyx81")
target = null
stop_range = 64
max_speed = 200
can_fall = true

[node name="Texture" parent="." index="0"]
script = ExtResource("3_nv2ml")

[node name="Passanger" type="Sprite2D" parent="Texture" index="0"]
visible = false
position = Vector2(-1, -62)
texture = ExtResource("4_r4whd")

[node name="Cargo" type="Sprite2D" parent="Texture" index="1"]
visible = false
position = Vector2(117, -53)
texture = ExtResource("5_ngqn2")

[node name="Botanist" type="Sprite2D" parent="Texture" index="2"]
visible = false
position = Vector2(-109, -56)
texture = ExtResource("6_is5ub")

[node name="CollisionShape2D" parent="." index="1"]
position = Vector2(-1, 2)

[node name="FlyTimer" parent="." index="3"]
wait_time = 0.2

[node name="Punch" type="Node2D" parent="." index="7"]
script = ExtResource("3_6s5yd")
melee_damage = 2
can_parriable = false
weapon_type = "Melee"
swing_time = 0.1

[node name="Texture" type="Sprite2D" parent="Punch" index="0"]
position = Vector2(0, -1)
region_enabled = true
region_rect = Rect2(0, 0, 32, 32)

[node name="CooldownTimer" type="Timer" parent="Punch" index="1"]
wait_time = 0.2
one_shot = true

[node name="MeleeHitSound" type="AudioStreamPlayer2D" parent="Punch" index="2"]
stream = ExtResource("9_kqv0r")

[node name="MeleeMissSound" type="AudioStreamPlayer2D" parent="Punch" index="3"]
stream = ExtResource("7_r4whd")

[node name="Hair" type="Sprite2D" parent="." index="10"]
position = Vector2(0, -2)
region_enabled = true
region_rect = Rect2(0, 0, 32, 32)
script = ExtResource("3_nv2ml")
change_rect = true
random_color = true

[node name="80s" type="Sprite2D" parent="Hair" index="0"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("12_kqv0r")

[node name="Afro2" type="Sprite2D" parent="Hair" index="1"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("13_pjvyl")

[node name="Bald" type="Sprite2D" parent="Hair" index="2"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("14_mmn5l")

[node name="Bedheadv2" type="Sprite2D" parent="Hair" index="3"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("15_8jwui")

[node name="Bobcurl" type="Sprite2D" parent="Hair" index="4"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("16_fg1co")

[node name="Bobcut" type="Sprite2D" parent="Hair" index="5"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("17_23y4n")

[node name="Bun3" type="Sprite2D" parent="Hair" index="6"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("18_rul7x")

[node name="Classicmulder" type="Sprite2D" parent="Hair" index="7"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("19_e2p0g")

[node name="Curls" type="Sprite2D" parent="Hair" index="8"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("20_b1mhb")

[node name="Flair" type="Sprite2D" parent="Hair" index="9"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("21_ujrqn")

[node name="Gentle" type="Sprite2D" parent="Hair" index="10"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("22_1f0wn")

[node name="Halfbang" type="Sprite2D" parent="Hair" index="11"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("23_82k8n")

[node name="Joestar" type="Sprite2D" parent="Hair" index="12"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("24_0i4d7")

[node name="Shorthairg" type="Sprite2D" parent="Hair" index="13"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("25_1l0qo")

[node name="Sidecut" type="Sprite2D" parent="Hair" index="14"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("26_lvqdh")

[node name="Spiky" type="Sprite2D" parent="Hair" index="15"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("27_qp87a")

[node name="Swept2" type="Sprite2D" parent="Hair" index="16"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("28_do7sw")

[node name="Undercutleft" type="Sprite2D" parent="Hair" index="17"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("29_j6xct")

[node name="Undercutright" type="Sprite2D" parent="Hair" index="18"]
visible = false
position = Vector2(50, 10)
texture = ExtResource("30_qavuh")

[node name="CollisionShape2D" parent="Area2D" index="0"]
shape = ExtResource("30_pjvyl")

[node name="Toolbox" type="Node2D" parent="." index="13"]
script = ExtResource("3_6s5yd")
melee_damage = 10
melee_effect = ExtResource("4_nv2ml")
fly_off_speed = 1
weapon_type = "Melee"
swing_time = 0.2

[node name="Texture" type="Sprite2D" parent="Toolbox" index="0"]
visible = false
position = Vector2(0, -2)
texture = ExtResource("5_1g5ge")
region_enabled = true
region_rect = Rect2(0, 0, 32, 32)

[node name="CooldownTimer" type="Timer" parent="Toolbox" index="1"]
one_shot = true

[node name="MeleeHitSound" type="AudioStreamPlayer2D" parent="Toolbox" index="2"]
stream = ExtResource("6_tcg1r")

[node name="MeleeMissSound" type="AudioStreamPlayer2D" parent="Toolbox" index="3"]
stream = ExtResource("7_r4whd")

[node name="Crowbar" type="Node2D" parent="." index="14"]
script = ExtResource("3_6s5yd")
melee_damage = 8
melee_effect = ExtResource("33_fg1co")
weapon_type = "Melee"
swing_time = 0.1

[node name="Texture" type="Sprite2D" parent="Crowbar" index="0"]
visible = false
position = Vector2(0, -2)
texture = ExtResource("34_23y4n")
region_enabled = true
region_rect = Rect2(0, 0, 32, 32)

[node name="CooldownTimer" type="Timer" parent="Crowbar" index="1"]
wait_time = 0.6
one_shot = true

[node name="MeleeHitSound" type="AudioStreamPlayer2D" parent="Crowbar" index="2"]
stream = ExtResource("6_tcg1r")

[node name="MeleeMissSound" type="AudioStreamPlayer2D" parent="Crowbar" index="3"]
stream = ExtResource("7_r4whd")

[connection signal="direction_changed" from="." to="Texture" method="_on_direction_changed"]
[connection signal="timeout" from="Punch/CooldownTimer" to="Punch" method="_on_cooldown_timer_timeout"]
[connection signal="timeout" from="Toolbox/CooldownTimer" to="Toolbox" method="_on_cooldown_timer_timeout"]
[connection signal="timeout" from="Crowbar/CooldownTimer" to="Crowbar" method="_on_cooldown_timer_timeout"]
[connection signal="timeout" from="SwingingTimer" to="." method="_on_swinging_timer_timeout"]
